<!-- templates/search_results.html -->
{% extends "base.html" %}
{% load static %}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/search.css' %}">
  <!-- <style>
    body {
      background-color: yellow !important;
    }
  </style> -->
{% endblock %}

{% block content %}
<div class="container my-5">
  <h2 class="text-center mb-4">Résultats pour "{{ query }}"</h2>

  {% if results.destinations or results.restaurants or results.ville_patrimoine or results.post or results.agenda or results.culture or results.conseil_voyage or results.gastronomie or results.hebergement or results.que_faire %}
    {% if results.destinations %}
      <h4 class="mt-4">🏝️ Destinations</h4>
      <ul>
        {% for d in results.destinations %}
          <li><a href="{% url 'destination_detail' d.slug %}">{{ d.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if results.restaurants %}
      <h4>🍽️ Restaurants</h4>
      <ul>
        {% for r in results.restaurants %}
          <li><a href="{% url 'restaurants_detail' r.slug %}">{{ r.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if results.ville_patrimoine %}
      <h4>📅 Ville</h4>
      <ul>
        {% for v in results.ville_patrimoine %}
          <li><a href="{% url 'ville_detail' v.slug %}">{{ v.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if results.post %}
      <h4>Post</h4>
      <ul>
        {% for p in results.post %}
          <li><a href="{% url 'home' %}">{{ p.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if results.agenda %}
      <h4>agenda</h4>
      <ul>
        {% for a in results.agenda %}
          <li><a href="{% url 'agenda_detail' a.slug %}">{{ a.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if results.culture %}
      <h4>culture</h4>
      <ul>
        {% for c in results.culture %}
          <li><a href="{% url 'culture_detail' c.slug %}">{{ c.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if results.conseil_voyage %}
      <h4>conseil voyage</h4>
      <ul>
        {% for c in results.conseil_voyage %}
          <li><a href="{% url 'conseils' %}">{{ c.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if results.gastronomie %}
      <h4>gastronomie</h4>
      <ul>
        {% for g in results.gastronomie %}
          <li><a href="{% url 'gastronomie_detail' g.slug %}">{{ g.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

    {% if results.hebergement %}
      <h4>hebergement</h4>
      <ul>
        {% for h in results.hebergement %}
          <li><a href="{% url 'hebergement_detail' h.slug %}">{{ h.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}
    
    <!-- {% if Info_pratique %}
      <h4>Info_pratique</h4>
      <ul>
        {% for i in Info_pratique %}
          <li><a href="{% url 'restaurants_detail' r.slug %}">{{ i.title }} à {{ i.content }}</a></li>
        {% endfor %}
      </ul>
    {% endif %} -->

    {% if results.que_faire %}
      <h4>que_faire</h4>
      <ul>
        {% for q in results.que_faire %}
          <li><a href="{% url 'detail_activite' q.slug %}">{{ q.title }}</a></li>
        {% endfor %}
      </ul>
    {% endif %}

  {% else %}
    <p>Aucun résultat trouvé pour <strong>{{ query }}</strong>.</p>
  {% endif %}
</div>
{% endblock %}
